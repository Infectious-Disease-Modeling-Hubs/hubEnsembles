<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compute ensemble model outputs by summarizing component model outputs for each combination of model task, output type, and output type id. Supported output types include mean, median, quantile, cdf, and pmf. — simple_ensemble • hubEnsembles</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compute ensemble model outputs by summarizing component model outputs for each combination of model task, output type, and output type id. Supported output types include mean, median, quantile, cdf, and pmf. — simple_ensemble"><meta property="og:description" content="Compute ensemble model outputs by summarizing component model outputs for
each combination of model task, output type, and output type id. Supported
output types include mean, median, quantile, cdf, and pmf."><meta property="og:image" content="https://infectious-disease-modeling-hubs.github.io/hubEnsembles/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hubEnsembles</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../articles/hubEnsembles.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubEnsembles/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute ensemble model outputs by summarizing component model outputs for each combination of model task, output type, and output type id. Supported output types include <code>mean</code>, <code>median</code>, <code>quantile</code>, <code>cdf</code>, and <code>pmf</code>.</h1>
    <small class="dont-index">Source: <a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubEnsembles/blob/HEAD/R/simple_ensemble.R" class="external-link"><code>R/simple_ensemble.R</code></a></small>
    <div class="hidden name"><code>simple_ensemble.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compute ensemble model outputs by summarizing component model outputs for
each combination of model task, output type, and output type id. Supported
output types include <code>mean</code>, <code>median</code>, <code>quantile</code>, <code>cdf</code>, and <code>pmf</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">simple_ensemble</span><span class="op">(</span></span>
<span>  <span class="va">model_outputs</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weights_col_name <span class="op">=</span> <span class="st">"weight"</span>,</span>
<span>  agg_fun <span class="op">=</span> <span class="st">"mean"</span>,</span>
<span>  agg_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  model_id <span class="op">=</span> <span class="st">"hub-ensemble"</span>,</span>
<span>  task_id_cols <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>model_outputs</dt>
<dd><p>an object of class <code>model_out_tbl</code> with component
model outputs (e.g., predictions).</p></dd>


<dt>weights</dt>
<dd><p>an optional <code>data.frame</code> with component model weights. If
provided, it should have a column named <code>model_id</code> and a column containing
model weights. Optionally, it may contain additional columns corresponding
to task id variables, <code>output_type</code>, or <code>output_type_id</code>, if weights are
specific to values of those variables. The default is <code>NULL</code>, in which case
an equally-weighted ensemble is calculated.</p></dd>


<dt>weights_col_name</dt>
<dd><p><code>character</code> string naming the column in <code>weights</code>
with model weights. Defaults to <code>"weight"</code></p></dd>


<dt>agg_fun</dt>
<dd><p>a function or character string name of a function to use for
aggregating component model outputs into the ensemble outputs. See the
details for more information.</p></dd>


<dt>agg_args</dt>
<dd><p>a named list of any additional arguments that will be passed
to <code>agg_fun</code>.</p></dd>


<dt>model_id</dt>
<dd><p><code>character</code> string with the identifier to use for the
ensemble model.</p></dd>


<dt>task_id_cols</dt>
<dd><p><code>character</code> vector with names of columns in
<code>model_outputs</code> that specify modeling tasks. Defaults to <code>NULL</code>, in which
case all columns in <code>model_outputs</code> other than <code>"model_id"</code>, the specified
<code>output_type_col</code> and <code>output_type_id_col</code>, and <code>"value"</code> are used as task
ids.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>a <code>model_out_tbl</code> object of ensemble predictions. Note that
any additional columns in the input <code>model_outputs</code> are dropped.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The default for <code>agg_fun</code> is <code>"mean"</code>, in which case the ensemble's
output is the average of the component model outputs within each group
defined by a combination of values in the task id columns, output type, and
output type id. The provided <code>agg_fun</code> should have an argument <code>x</code> for the
vector of numeric values to summarize, and for weighted methods, an
argument <code>w</code> with a numeric vector of weights. If it desired to use an
aggregation function that does not accept these arguments, a wrapper
would need to be written. For weighted methods, <code>agg_fun = "mean"</code> and
<code>agg_fun = "median"</code> are translated to use <code><a href="https://rdrr.io/pkg/matrixStats/man/weightedMean.html" class="external-link">matrixStats::weightedMean</a></code> and
<code><a href="https://rdrr.io/pkg/matrixStats/man/weightedMedian.html" class="external-link">matrixStats::weightedMedian</a></code> respectively.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Evan L Ray, Li Shandross, Emily Howerton.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8. PR Previews built by <a href="https://www.netlify.com" class="external-link">Netlify</a>. Provided without <strong>any warranty</strong>.</p>
</div>

      </footer></div>

  


  

  </body></html>

